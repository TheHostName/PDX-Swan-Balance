on_actions = {
		

	#ROOT is new controller #FROM is old controller #FROM.FROM is state ID
	on_state_control_changed = {
		effect = {
			if = {
				limit = {
					FROM = { 
						tag = CHI	
					}
					ROOT = { 
						OR = { 
							is_in_faction_with = JAP
							tag = MAN
						} 
					}
					FROM.FROM = {
						has_state_flag = JAP_interior_flag
					}
				}
				FROM.FROM = {  
				 	clr_state_flag = JAP_interior_flag
				}
				JAP = {
					add_to_variable = {
						var = JAP_interior_counter_var
						value = 1
					}
				}					
				}
			}
		}

	##Island Hopping
	on_state_control_changed = {
		effect = {
			if = {
				limit = {
					FROM = { 
						OR = { 
							is_in_faction_with = ENG
							tag = ENG
						} 
					}
					ROOT = { 
						OR = { 
							is_in_faction_with = GER
							tag = GER
							tag = EFR 
							tag = JAP
							tag = MAN
							tag = IRQ
						} 
					}
					FROM.FROM = {
						has_state_flag = ENG_africa_controls
					}
				}
				FROM.FROM = {  
				 	set_state_flag = GER_africa_controls
				 	clr_state_flag = ENG_africa_controls
				}
				ENG_africa_hopping_level_down = yes 					
				}
			}
		}
	on_state_control_changed = {
		effect = {
			if = {
				limit = {
					FROM = { 
						OR = { 
							is_in_faction_with = GER
							tag = GER
							tag = EFR 
							tag = JAP
							tag = MAN
							tag = IRQ
						}	
					}
					ROOT = { 
						OR = { 
							is_in_faction_with = ENG
							tag = ENG
						} 
					}
					FROM.FROM = {
						has_state_flag = GER_africa_controls
					}
				}
				FROM.FROM = {  
				 	set_state_flag = ENG_africa_controls
				 	clr_state_flag = GER_africa_controls
				}
				ENG_africa_hopping_level_up = yes 					
				}
			}	
		}
	
	##Island Hopping
	on_state_control_changed = {
		effect = {
			if = {
				limit = {
					FROM = { 
						OR = { 
							is_in_faction_with = JAP  
							tag = JAP
						} 
					}
					ROOT = { 
						OR = { 
							is_in_faction_with = USA 
							tag = USA
						} 
					}
					FROM.FROM = {
						has_state_flag = JAP_controls
					}
				}
				FROM.FROM = {  
				 	set_state_flag = USA_controls
				 	clr_state_flag = JAP_controls
				}
			 	USA = { 
			 		USA_island_hopping_level_up = yes
					USA_allies_pacific_war_level_down = yes
			 	}
		 		JAP = {
		 			JAP_island_hopping_level_down = yes 
		 		}
				GER = {
					GER_atlantik_wall_level_down = yes 
				}
			}
		}
	}
	on_state_control_changed = {
		effect = {
			if = {
				limit = {
					FROM = { 
						OR = { 
							is_in_faction_with = USA 
							tag = USA
						}
					}
					ROOT = { 
						OR = { 
							tag = JAP 
							is_in_faction_with = JAP
						}	 
					}
					FROM.FROM = {
						has_state_flag = USA_controls
					}
				}
				FROM.FROM = { 
				 	set_state_flag = JAP_controls 
				 	clr_state_flag = USA_controls 
				}
		 		JAP = { 
		 			JAP_island_hopping_level_up = yes 
		 		}
				GER = {
					GER_atlantik_wall_level_up = yes 
				}
		 		USA = {
					USA_island_hopping_level_down = yes
					USA_allies_pacific_war_level_up = yes
		 		} 
			}
		}
	}

############# British Empire ##########

	on_state_control_changed = {
		effect = {
			if = {
				limit = {
					FROM = { 
						OR = {
							is_in_faction_with = GER
							tag = ITA 
						}
					}		
					ROOT = {
						OR = { 
							is_in_faction_with = ENG
							tag = ENG
						} 
					}
					FROM.FROM = {
						has_state_flag = ITA_controls
					}
				}
				FROM.FROM = {  
				 	set_state_flag = ENG_controls
				 	clr_state_flag = ITA_controls
				}
			 	ENG = { 
			 		ENG_island_hopping_level_up = yes
			 	}
			}
		}
	}
	on_state_control_changed = {
		effect = {
			if = {
				limit = {
					FROM = { 
						OR = { 
							is_in_faction_with = ENG
							tag = ENG
						}
					}
					ROOT = { 
						OR = {
							is_in_faction_with = GER
							tag = ITA 
						}
					}		
					FROM.FROM = {
						has_state_flag = ENG_controls
					}
				}
				FROM.FROM = { 
				 	set_state_flag = ITA_controls 
				 	clr_state_flag = ENG_controls 
				}
		 		ENG = {
					ENG_island_hopping_level_down = yes
		 		} 
			}
		}
	}
}